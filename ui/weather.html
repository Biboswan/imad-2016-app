<!doctype html>
<html>
<head>
   <title>weather.api</title> 
   <link rel="icon" href="/logoB" type="image/x-icon">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
     <link href="/ui/style.css" rel="stylesheet" />
      <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"/>
       <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
       <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="https://cdn.rawgit.com/yahoo/xss-filters/master/dist/xss-filters.js"></script>
</head>
<body>
    <input list="citylist" id="city" type="search" onkeypress=getlocationkey()>
   <datalist id="citylist"></datalist>

    
    <script>
        function getlocationkey(){
            var city=document.getElementById('city');
            var citylist=document.getElementById('citylist');
            citylist.innerHTML='';
            var cname = city.value;
            $.ajax({
  url:"'http://dataservice.accuweather.com/locations/v1/cities/autocomplete?q='+cname+'&apikey=8AWZdkoPjUG3LSzuN98uqMGelds7lw8E'",
  dataType: 'jsonp',
  success: function(data){
      var i,length=data.rows.length;
      for(i=0;i<length;i++)
      {
      citylist.innerHTML+=`<option>${data.rows[i].LocalizedName}<option>`;
      }
            
        }
            });
            }
    </script>
</body>
</html>
